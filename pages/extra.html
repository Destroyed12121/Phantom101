<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Extra - Phantom</title>
    <link rel="icon" href="../favicon.svg" type="image/svg+xml">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="../styles/main.css">
    <link rel="stylesheet" href="../components/topbar.css">
</head>

<body>
    <script src="../config.js"></script>
    <script src="../scripts/settings.js"></script>
    <script src="../scripts/notifications.js"></script>
    <script src="../components/topbar.js"></script>

    <div style="max-width: 700px; margin: 0 auto; padding: 80px 24px 40px;">
        <h1 style="font-size: 1.75rem; margin-bottom: 24px;">Extra</h1>

        <div id="extra-content" style="color: var(--text-muted); line-height: 1.8; font-size: 0.9375rem;">
            Loading content...
        </div>

        <a href="../index.html"
            style="display: inline-flex; align-items: center; gap: 8px; margin-top: 24px; color: var(--text-muted); font-size: 0.875rem;">
            <i class="fa-solid fa-arrow-left"></i>
            Back to Home
        </a>
    </div>

    <script src="../components/footer.js"></script>
    <script>
        async function loadExtraContent() {
            const container = document.getElementById('extra-content');
            try {
                const response = await fetch('https://cdn.jsdelivr.net/gh/Destroyed12121/Phantom101/extra.js');
                if (response.ok) {
                    const text = await response.text();
                    const lines = text.split('\n').filter(l => l.trim().length > 0);

                    if (lines.some(l => l.trim().startsWith('-'))) {
                        const ul = document.createElement('ul');
                        ul.style.listStyleType = 'none';
                        ul.style.padding = '0';
                        lines.forEach(line => {
                            const li = document.createElement('li');
                            li.style.marginBottom = '8px';
                            li.style.display = 'flex';
                            li.style.alignItems = 'flex-start';
                            li.style.gap = '12px';

                            const checkbox = document.createElement('i');
                            checkbox.className = 'fa-regular fa-square';
                            checkbox.style.marginTop = '4px';
                            checkbox.style.color = 'var(--text-dim)';

                            const content = document.createElement('span');
                            content.textContent = line.trim().replace(/^- /, '');

                            li.appendChild(checkbox);
                            li.appendChild(content);
                            ul.appendChild(li);
                        });
                        container.innerHTML = '';
                        container.appendChild(ul);
                    } else {
                        container.textContent = text;
                        container.style.whiteSpace = 'pre-wrap';
                    }
                } else {
                    container.textContent = 'Failed to load content.';
                    if (window.Notify) Notify.error('Error', 'Failed to load extra content.');
                }
            } catch (err) {
                console.error('Error loading extra content:', err);
                container.textContent = 'An error occurred while loading content.';
            }
        }

        // Settings are auto-applied by settings.js, but we can ensure it here if needed
        if (window.Settings) Settings.apply();

        loadExtraContent();
    </script>
</body>

</html>