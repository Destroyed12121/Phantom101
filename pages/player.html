<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Player - Phantom</title>
    <link rel="icon" href="../favicon.svg" type="image/svg+xml">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="../styles/main.css">
    <link rel="stylesheet" href="../components/topbar.css">
    <link rel="stylesheet" href="../styles/player.css?v=2">
    <link rel="stylesheet" href="../styles/background.css">
    <script src="../config.js"></script>
    <script src="../scripts/settings.js"></script>
    <script>Settings.apply();</script>
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
</head>

<body>
    <script src="../components/topbar.js"></script>

    <div class="player-page">


        <div class="player-container">
            <div class="player-frame-wrapper" id="frame-wrapper">
                <div class="player-frame-content">
                    <iframe class="player-frame" id="game-frame" allowfullscreen></iframe>
                    <video class="player-frame" id="video-frame" style="display:none;" controls autoplay
                        playsinline></video>
                </div>
                <div class="player-chat-container" id="chat-container" style="display:none;">
                    <iframe id="chat-frame" src="" height="100%" width="100%"></iframe>
                </div>
            </div>

            <div class="player-controls" id="controls">
                <!-- Dynamic Controls -->
                <div id="movie-controls" class="player-movie-controls" style="display:none;">
                    <div class="player-control-group">
                        <span class="player-control-label">Provider</span>
                        <select id="provider-select" class="provider-select"></select>
                    </div>

                    <label class="player-proxy-toggle" title="Toggle Proxy">
                        <div class="toggle" id="proxy-toggle"></div>
                        <span class="player-control-label">Proxy</span>
                    </label>
                </div>

                <button class="btn btn-secondary" id="btn-chat" style="display:none;">
                    <i class="fa-solid fa-comment"></i> Chat
                </button>

                <button class="btn btn-secondary" id="btn-download" style="display:none;">
                    <i class="fa-solid fa-download"></i> Download
                </button>

                <button class="btn btn-secondary" id="btn-reload">
                    <i class="fa-solid fa-rotate-right"></i> Reload
                </button>
                <button class="btn btn-secondary" id="btn-newtab">
                    <i class="fa-solid fa-up-right-from-square"></i> Open in New Tab
                </button>
                <button class="btn btn-secondary" id="btn-theater">
                    <i class="fa-solid fa-masks-theater"></i> Theater Mode
                </button>
                <button class="btn btn-secondary" id="btn-fullscreen">
                    <i class="fa-solid fa-expand"></i> Fullscreen
                </button>
            </div>

            <div class="player-info">
                <h1 class="player-title" id="player-title">Loading...</h1>
                <p class="player-desc" id="player-desc"></p>
                <p class="player-quote" id="player-quote"></p>
                <p class="theater-message" id="theater-message"
                    style="display:none; text-align: center; color: var(--text-muted); font-size: 1.125rem; margin-top: 16px;">
                    Enjoy your movie!</p>
            </div>
        </div>
    </div>

    <script src="../scripts/background.js"></script>
    <script src="../scripts/notifications.js"></script>
    <script src="../scripts/quotes.js"></script>
    <script src="../components/footer.js"></script>
    <script src="../scripts/player.js"></script>
</body>

</html>